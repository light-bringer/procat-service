docker compose -f docker-compose.test.yml up -d spanner-test
time="2026-02-12T16:42:52+05:30" level=warning msg="/Users/dedas/dev/src/github.com/light-bringer/procat-service/docker-compose.test.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
time="2026-02-12T16:42:52+05:30" level=warning msg="Found orphan containers ([procat-service-spanner-emulator-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container procat-service-spanner-test-1 Running 
Waiting for test Spanner emulator to be ready...
SPANNER_EMULATOR_HOST=localhost:19010 go run cmd/migrate/main.go -instance=test-instance -database=product-catalog-test
2026/02/12 16:42:56 Using Spanner emulator at localhost:19010
2026/02/12 16:42:56 Ensuring instance test-instance exists...
2026/02/12 16:42:56 Instance already exists
2026/02/12 16:42:56 Ensuring database product-catalog-test exists...
2026/02/12 16:42:56 Database already exists
2026/02/12 16:42:56 Applying migrations from migrations...
2026/02/12 16:42:56 Applying 001_initial_schema.sql...
2026/02/12 16:42:56 Successfully applied 001_initial_schema.sql
2026/02/12 16:42:56 Applying 003_add_price_history.sql...
2026/02/12 16:42:56 Migration failed: failed to apply migrations: failed to start DDL update for 003_add_price_history.sql: rpc error: code = FailedPrecondition desc = Duplicate name in schema: price_history.
exit status 1
make: *** [migrate-test] Error 1
